{"version":3,"sources":["components/Navigation.jsx","Context.jsx","components/PrivateRoute.jsx","pages/Login.jsx","components/SwipingArea.jsx","pages/Home.jsx","pages/Search.jsx","pages/Profile.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["Navigation","style","color","id","to","exact","activeClassName","component","className","size","Context","createContext","Provider","children","localUser","localStorage","getItem","useState","JSON","parse","user","setUser","value","PrivateRoute","Component","rest","useContext","render","props","pathname","Login","responseGoogle","res","tokenId","Axios","post","token","then","r","console","log","data","msg","setItem","stringify","user_info","catch","error","clientId","buttonText","onLogoutSuccess","removeItem","onSuccess","onFailure","cookiePolicy","renderProps","onClick","disabled","uninterceptedAxios","create","SwipingArea","animes","useQuery","a","payload","params","q","get","reqData","onSwipe","dir","mal_id","addToWatchlist","alreadyWatched","results","map","anime","onCardLeftScreen","preventSwipe","backgroundImage","image_url","score","title","rated","type","start_date","slice","synopsis","Home","Search","query","setQuery","refetch","length","name","placeholder","width","onChange","e","target","Profile","watchlist","setWatchlist","watched","setWatched","useEffect","forEach","ani","src","photo","alt","firstname","lastname","key","borderColor","interceptors","request","use","bearerToken","headers","Authorization","Promise","reject","defaults","baseURL","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","queryClient","QueryClient","ReactDOM","StrictMode","QueryClientProvider","client","document","getElementById"],"mappings":"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","file":"static/js/main.00533926.chunk.js","sourcesContent":["import '../styles/Navigation.scss';\r\nimport { HouseDoorFill, Search, PersonFill } from 'react-bootstrap-icons';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navigation = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<header>\r\n\t\t\t\t<h1 style={{ color: 'var(--accent)' }}>AniMatch</h1>\r\n\t\t\t\t{/* <button className=\"icon\">\r\n\t\t\t\t\t<ThreeDotsVertical size={18} />\r\n\t\t\t\t</button> */}\r\n\t\t\t</header>\r\n\t\t\t<nav>\r\n\t\t\t\t<div id=\"nav-links\">\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto={'/'}\r\n\t\t\t\t\t\texact\r\n\t\t\t\t\t\tactiveClassName=\"active\"\r\n\t\t\t\t\t\tcomponent=\"a\"\r\n\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<HouseDoorFill size={18} />\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto={'/search'}\r\n\t\t\t\t\t\tactiveClassName=\"active\"\r\n\t\t\t\t\t\tcomponent=\"a\"\r\n\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Search size={16} />\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto={'/profile'}\r\n\t\t\t\t\t\tactiveClassName=\"active\"\r\n\t\t\t\t\t\tcomponent=\"a\"\r\n\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<PersonFill size={18} />\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { createContext, useState } from 'react';\r\n\r\n// Context\r\nconst Context = createContext({});\r\nexport default Context;\r\n\r\n// Provider\r\nexport const Provider = ({ children }) => {\r\n\tconst localUser = localStorage.getItem('user');\r\n\tconst [user, setUser] = useState(JSON.parse(localUser));\r\n\r\n\treturn (\r\n\t\t<Context.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tuser,\r\n\t\t\t\tsetUser,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Context.Provider>\r\n\t);\r\n};\r\n","import { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Context from '../Context';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n\tconst { user } = useContext(Context);\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tuser !== null ? (\r\n\t\t\t\t\t<Component {...props} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Redirect to={{ pathname: '/login' }} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import { useContext } from 'react';\r\nimport Context from '../Context';\r\nimport { Google } from 'react-bootstrap-icons';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport GoogleLogin, { GoogleLogout } from 'react-google-login';\r\n\r\nexport const Login = () => {\r\n\tconst { user, setUser } = useContext(Context);\r\n\r\n\t// const googleLogin = async () => {\r\n\t// \tAxios;\r\n\t// };\r\n\tconst responseGoogle = (res) => {\r\n\t\tconst { tokenId } = res;\r\n\t\tAxios.post('/user/login', { token: tokenId })\r\n\t\t\t.then((r) => {\r\n\t\t\t\tconsole.log(r.data.msg);\r\n\t\t\t\tlocalStorage.setItem('token', r.data.data.token);\r\n\t\t\t\tlocalStorage.setItem('user', JSON.stringify(r.data.data.user_info));\r\n\t\t\t\tsetUser(r.data.data.user_info);\r\n\t\t\t})\r\n\t\t\t.catch(console.error);\r\n\t};\r\n\r\n\tconst logOut = (res) => {\r\n\t\tlocalStorage.removeItem('token');\r\n\t};\r\n\r\n\tif (user !== null) {\r\n\t\treturn <Redirect to=\"/\" />;\r\n\t}\r\n\treturn (\r\n\t\t<div id=\"login\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<GoogleLogout\r\n\t\t\t\t\tclientId=\"1020854869671-l7ou2icqal1f51mvmq4itdh9500c0ias.apps.googleusercontent.com\"\r\n\t\t\t\t\tbuttonText=\"Logout\"\r\n\t\t\t\t\tonLogoutSuccess={logOut}\r\n\t\t\t\t></GoogleLogout>\r\n\t\t\t) : (\r\n\t\t\t\t<GoogleLogin\r\n\t\t\t\t\tclientId=\"1020854869671-l7ou2icqal1f51mvmq4itdh9500c0ias.apps.googleusercontent.com\"\r\n\t\t\t\t\tbuttonText=\"Continue with Google\"\r\n\t\t\t\t\tonSuccess={responseGoogle}\r\n\t\t\t\t\tonFailure={responseGoogle}\r\n\t\t\t\t\tcookiePolicy={'single_host_origin'}\r\n\t\t\t\t\t// isSignedIn={true}\r\n\t\t\t\t\trender={(renderProps) => (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"outlined\"\r\n\t\t\t\t\t\t\tonClick={renderProps.onClick}\r\n\t\t\t\t\t\t\tdisabled={renderProps.disabled}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Google /> &nbsp; Continue with Google\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import '../styles/SwipingArea.scss';\r\nimport TinderCard from 'react-tinder-card';\r\nimport Axios from 'axios';\r\nimport { useQuery } from 'react-query';\r\n\r\nconst uninterceptedAxios = Axios.create();\r\n\r\nconst SwipingArea = () => {\r\n\tlet { data: animes } = useQuery('animeData', async function getData() {\r\n\t\tconst payload = {\r\n\t\t\tparams: {\r\n\t\t\t\tq: 'deathnote',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst reqData = await uninterceptedAxios\r\n\t\t\t.get('https://api.jikan.moe/v3/search/anime', payload)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn res.data;\r\n\t\t\t})\r\n\t\t\t.catch(console.error);\r\n\r\n\t\treturn reqData;\r\n\t});\r\n\r\n\tconst addToWatchlist = (id) => {\r\n\t\tAxios.post('/watch_later/add', {\r\n\t\t\tmal_id: id,\r\n\t\t})\r\n\t\t\t.then((r) => console.log(r))\r\n\t\t\t.catch(console.error);\r\n\t};\r\n\tconst alreadyWatched = (id) => {\r\n\t\tAxios.post('/completed/add', {\r\n\t\t\tmal_id: id,\r\n\t\t})\r\n\t\t\t.then((r) => console.log(r))\r\n\t\t\t.catch(console.error);\r\n\t};\r\n\r\n\tconst onSwipe = (dir, id) => {\r\n\t\tif (dir === 'right') {\r\n\t\t\taddToWatchlist(id);\r\n\t\t} else if (dir === 'up') {\r\n\t\t\talreadyWatched(id);\r\n\t\t}\r\n\t};\r\n\r\n\tconst outOfFrame = (id) => {\r\n\t\tconsole.log(id + ' left the screen');\r\n\t};\r\n\r\n\t// console.log(data);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"swiping-area\">\r\n\t\t\t\t{animes?.results?.map((anime) => (\r\n\t\t\t\t\t<TinderCard\r\n\t\t\t\t\t\tclassName=\"tinder-card\"\r\n\t\t\t\t\t\tonSwipe={(dir) => onSwipe(dir, anime.mal_id)}\r\n\t\t\t\t\t\tonCardLeftScreen={() => outOfFrame(anime.mal_id)}\r\n\t\t\t\t\t\tpreventSwipe={['down']}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"swipable-card\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackgroundImage: `linear-gradient(to top, rgba(85, 105, 133, 0.9), transparent), url('${anime.image_url})`,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"badge\">{anime.score}</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>{anime.title}</h2>\r\n\t\t\t\t\t\t\t\t<span className=\"badge sqr\">{anime.rated}</span>&nbsp; |&nbsp;\r\n\t\t\t\t\t\t\t\t<span> {anime.type}</span>&nbsp; |&nbsp;\r\n\t\t\t\t\t\t\t\t<span>{anime?.start_date?.slice(0, 4)} </span>\r\n\t\t\t\t\t\t\t\t<p>{anime.synopsis}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TinderCard>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SwipingArea;\r\n\r\n// const alreadyRemoved = [];\r\n// let charactersState = db; // This fixes issues with updating characters state forcing it to use the current state and not the state that was active when the card was created.\r\n\r\n// function Advanced() {\r\n// \tconst [characters, setCharacters] = useState(db);\r\n// \tconst [lastDirection, setLastDirection] = useState();\r\n\r\n// \tconst swiped = (direction, nameToDelete) => {\r\n// \t\tconsole.log('removing: ' + nameToDelete);\r\n// \t\tsetLastDirection(direction);\r\n// \t\talreadyRemoved.push(nameToDelete);\r\n// \t};\r\n\r\n// \tconst outOfFrame = (name) => {\r\n// \t\tconsole.log(name + ' left the screen!');\r\n// \t\tcharactersState = charactersState.filter(\r\n// \t\t\t(character) => character.name !== name\r\n// \t\t);\r\n// \t\tsetCharacters(charactersState);\r\n// \t};\r\n\r\n// \tconst swipe = (dir) => {\r\n// \t\tconst cardsLeft = characters.filter(\r\n// \t\t\t(person) => !alreadyRemoved.includes(person.name)\r\n// \t\t);\r\n// \t\tif (cardsLeft.length) {\r\n// \t\t\tconst toBeRemoved = cardsLeft[cardsLeft.length - 1].name; // Find the card object to be removed\r\n// \t\t\tconst index = db.map((person) => person.name).indexOf(toBeRemoved); // Find the index of which to make the reference to\r\n// \t\t\talreadyRemoved.push(toBeRemoved); // Make sure the next card gets removed next time if this card do not have time to exit the screen\r\n// \t\t\tchildRefs[index].current.swipe(dir); // Swipe the card!\r\n// \t\t}\r\n// \t};\r\n\r\n// \treturn (\r\n// \t\t<div>\r\n// \t\t\t<link\r\n// \t\t\t\thref=\"https://fonts.googleapis.com/css?family=Damion&display=swap\"\r\n// \t\t\t\trel=\"stylesheet\"\r\n// \t\t\t/>\r\n// \t\t\t<link\r\n// \t\t\t\thref=\"https://fonts.googleapis.com/css?family=Alatsi&display=swap\"\r\n// \t\t\t\trel=\"stylesheet\"\r\n// \t\t\t/>\r\n// \t\t\t<h1>React Tinder Card</h1>\r\n// \t\t\t<div className=\"cardContainer\">\r\n// \t\t\t\t{characters.map((character, index) => (\r\n// \t\t\t\t\t<TinderCard\r\n// \t\t\t\t\t\tref={childRefs[index]}\r\n// \t\t\t\t\t\tclassName=\"swipe\"\r\n// \t\t\t\t\t\tkey={character.name}\r\n// \t\t\t\t\t\tonSwipe={(dir) => swiped(dir, character.name)}\r\n// \t\t\t\t\t\tonCardLeftScreen={() => outOfFrame(character.name)}\r\n// \t\t\t\t\t>\r\n// \t\t\t\t\t\t<div\r\n// \t\t\t\t\t\t\tstyle={{ backgroundImage: 'url(' + character.url + ')' }}\r\n// \t\t\t\t\t\t\tclassName=\"card\"\r\n// \t\t\t\t\t\t>\r\n// \t\t\t\t\t\t\t<h3>{character.name}</h3>\r\n// \t\t\t\t\t\t</div>\r\n// \t\t\t\t\t</TinderCard>\r\n// \t\t\t\t))}\r\n// \t\t\t</div>\r\n// \t\t\t<div className=\"buttons\">\r\n// \t\t\t\t<button onClick={() => swipe('left')}>Swipe left!</button>\r\n// \t\t\t\t<button onClick={() => swipe('right')}>Swipe right!</button>\r\n// \t\t\t</div>\r\n// \t\t\t{lastDirection ? (\r\n// \t\t\t\t<h2 key={lastDirection} className=\"infoText\">\r\n// \t\t\t\t\tYou swiped {lastDirection}\r\n// \t\t\t\t</h2>\r\n// \t\t\t) : (\r\n// \t\t\t\t<h2 className=\"infoText\">\r\n// \t\t\t\t\tSwipe a card or press a button to get started!\r\n// \t\t\t\t</h2>\r\n// \t\t\t)}\r\n// \t\t</div>\r\n// \t);\r\n// }\r\n","import SwipingArea from '../components/SwipingArea';\r\n\r\nexport const Home = () => {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<SwipingArea />\r\n\t\t</div>\r\n\t);\r\n};\r\n","import Axios from 'axios';\r\nimport { useQuery } from 'react-query';\r\nimport { useState } from 'react';\r\n\r\nconst uninterceptedAxios = Axios.create();\r\n\r\nexport const Search = () => {\r\n\tconst [query, setQuery] = useState('');\r\n\tlet { data: animes, refetch } = useQuery(\r\n\t\t'animeData',\r\n\t\tasync function getData() {\r\n\t\t\tconst payload = {\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tq: query,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst reqData = await uninterceptedAxios\r\n\t\t\t\t.get('https://api.jikan.moe/v3/search/anime', payload)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\treturn res.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(console.log);\r\n\r\n\t\t\treturn reqData;\r\n\t\t}\r\n\t);\r\n\r\n\tif (query.length >= 3) refetch();\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<input\r\n\t\t\t\ttype=\"search\"\r\n\t\t\t\tname=\"search\"\r\n\t\t\t\tplaceholder=\"Search for Anime, Manga, Comics and more...\"\r\n\t\t\t\tvalue={query}\r\n\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\tonChange={(e) => setQuery(e.target.value)}\r\n\t\t\t/>\r\n\t\t\t<div id=\"search-results\">\r\n\t\t\t\t{animes?.results?.map((anime) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"search-card\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundImage: `linear-gradient(to top, rgba(85, 105, 133, 0.9), transparent), url('${anime.image_url})`,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"badge\">{anime.score}</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h3>{anime.title}</h3>\r\n\t\t\t\t\t\t\t<span className=\"badge sqr\">{anime.rated}</span>&nbsp; |&nbsp;\r\n\t\t\t\t\t\t\t<span> {anime.type}</span>&nbsp; |&nbsp;\r\n\t\t\t\t\t\t\t<span>{anime?.start_date?.slice(0, 4)} </span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import Axios from 'axios';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport Context from '../Context';\r\n\r\nconst uninterceptedAxios = Axios.create();\r\n\r\nexport const Profile = () => {\r\n\tconst { user } = useContext(Context);\r\n\tconst [watchlist, setWatchlist] = useState([]);\r\n\tconst [watched, setWatched] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst getWatchlist = () => {\r\n\t\t\tAxios.get('/watch_later/all')\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\t// console.log(r);\r\n\t\t\t\t\tr.data.data.forEach((ani) => {\r\n\t\t\t\t\t\tuninterceptedAxios\r\n\t\t\t\t\t\t\t.get(`https://api.jikan.moe/v3/anime/${ani.mal_id}`)\r\n\t\t\t\t\t\t\t.then((r) => setWatchlist([...watchlist, r.data]));\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(console.error);\r\n\t\t};\r\n\t\tconst getWatched = () => {\r\n\t\t\tAxios.get('/completed/all')\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\t// console.log(r);\r\n\t\t\t\t\tr.data.data.forEach((ani) => {\r\n\t\t\t\t\t\tuninterceptedAxios\r\n\t\t\t\t\t\t\t.get(`https://api.jikan.moe/v3/anime/${ani.mal_id}`)\r\n\t\t\t\t\t\t\t.then((r) => setWatched([...watched, r.data]));\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(console.error);\r\n\t\t};\r\n\t\tgetWatchlist();\r\n\t\tgetWatched();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"contianer\" id=\"profile-section\">\r\n\t\t\t<img src={user.photo} alt=\"\" />\r\n\t\t\t<h2>\r\n\t\t\t\t{user.firstname} {user.lastname}\r\n\t\t\t</h2>\r\n\t\t\t<ul id=\"anime-list\">\r\n\t\t\t\t<h4>Watchlist</h4>\r\n\t\t\t\t{watchlist.map((ani, key) => (\r\n\t\t\t\t\t<li key={ani.id}>\r\n\t\t\t\t\t\t<h5>{ani.title}</h5>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t\t<hr />\r\n\t\t\t<ul id=\"anime-list\">\r\n\t\t\t\t<h4>Watched</h4>\r\n\t\t\t\t{watched.map((ani, key) => (\r\n\t\t\t\t\t<li key={ani.id} style={{ borderColor: 'var(--grey)' }}>\r\n\t\t\t\t\t\t<h5>{ani.title}</h5>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import Axios from 'axios';\n// import { Frame, useMotionValue, useTransform, useAnimation } from 'framer';\nimport { Route, Switch } from 'react-router-dom';\nimport Navigation from './components/Navigation';\nimport PrivateRoute from './components/PrivateRoute';\nimport { Home, Login, Profile, Search } from './pages';\nimport './styles/App.scss';\n\nAxios.interceptors.request.use(\n\tfunction (request) {\n\t\tconst bearerToken = localStorage.getItem('token');\n\t\tif (bearerToken) {\n\t\t\trequest.headers.Authorization = `bearer ${bearerToken}`;\n\t\t}\n\t\trequest.headers['Content-Type'] = 'application/json';\n\t\treturn request;\n\t},\n\tfunction (error) {\n\t\treturn Promise.reject(error);\n\t}\n);\n\nAxios.defaults.baseURL =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? 'https://animatch-qguqqofcsa-el.a.run.app'\n\t\t: 'https://animatch-qguqqofcsa-el.a.run.app';\n\nfunction App() {\n\treturn (\n\t\t<>\n\t\t\t<Navigation />\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t<PrivateRoute path=\"/\" exact component={Home} />\n\t\t\t\t<PrivateRoute path=\"/search\" component={Search} />\n\t\t\t\t<PrivateRoute path=\"/profile\" component={Profile} />\n\t\t\t</Switch>\n\t\t</>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App.jsx';\nimport { Provider } from './Context';\nimport reportWebVitals from './reportWebVitals';\nimport './styles/index.css';\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider>\n\t\t\t<QueryClientProvider client={queryClient}>\n\t\t\t\t<Router>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</QueryClientProvider>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}